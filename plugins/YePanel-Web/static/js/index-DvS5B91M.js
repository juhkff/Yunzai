import{a as A,b as E,c as O,d as Y,e as M,f as T,g as J,h as K,i as Q}from"./home-C_OwIwNx.js";import{d as X,e as I,c as r,y as e,P as t,A as c,V as Z,i as o,D as z,u as v,b as i,B as p,x as u,F as g,q as h,w as F,aN as ee,aO as te,aR as ae,aS as le,aH as se,aF as ne,ae as oe,af as ie,_ as ce}from"./index-C1DCms5E.js";import{_ as ue}from"./ChartBar.vue_vue_type_script_setup_true_lang-BVItfZdv.js";import{u as de}from"./home-yfVjfSRk.js";import{_ as re}from"./timeline.vue_vue_type_script_setup_true_lang-CsWh4hfQ.js";const U=S=>(oe("data-v-e5d7867b"),S=S(),ie(),S),me={class:"flex justify-between"},pe=U(()=>i("span",{class:"text-md font-medium"},"消息统计",-1)),_e={class:"flex justify-between items-start mt-3"},fe=U(()=>i("div",{class:"flex justify-between"},[i("span",{class:"text-md font-medium"},"更新日志")],-1)),ve={class:"flex justify-between mt-3 flex-wrap"},ge={class:"w-[30%] ml-[10%] mb-[15%] mt-[10%]"},he={class:"flex justify-center"},xe={class:"p-[20px]"},ye={class:"flex justify-center items-center mb-[10px]"},be={class:"w-[20%] mb-[10%] mt-[7%]"},ke={class:"flex"},we={class:"h-[280px]"},Se={class:"flex"},Be=X({name:"Welcome",__name:"index",setup(S){const s=I({visual:Array.from({length:5},(l,n)=>({})),fsSize:[],info:[],plugins:[],BotName:""});A().then(l=>{l.success&&(s.value.BotName=l.data.BotName,s.value.info.push(...l.data.info),s.value.plugins=l.data.plugins)}),E().then(l=>{if(l.success){const n=l.data[0];s.value.visual[0]=n,n.model&&s.value.info.push({key:"CPU",value:n.model})}}),O().then(l=>{l.success&&(s.value.visual[1]=l.data[0],s.value.visual[2]=l.data[1])}),Y().then(l=>{l.success&&(s.value.visual[3]=l.data[0])}),M().then(l=>{if(l.success){const n=l.data[0];n.model&&s.value.info.push({key:"GPU",value:n.model}),s.value.visual[4]=n}}),T().then(l=>{l.success&&(s.value.fsSize=l.data)});const G=de(),j=I([]);J().then(l=>{l.success&&(j.value=l.data,G.setBotInfo(l.data))});const V=l=>{Q(l).then(n=>{n.success?ae({title:`${l||s.value.BotName+"-Yunzai"}更新日志`,width:window.innerWidth<992?"90%":"50%",top:"10vh",props:{log:n.data.log,link:n.data.url,height:"60vh"},contentRenderer:()=>re,footerButtons:[{label:"取消",btnClick:({dialog:{options:C,index:d}})=>le(C,d)},{label:"link",type:"primary",btnClick:()=>se(n.data.url)}]}):ne(n.message,{type:"error",customClass:"el"})})},k=I(0),f=I({sent:[],recv:[],time:[]});return K().then(l=>{f.value=l.data}),(l,n)=>{const C=c("el-segmented"),d=c("el-skeleton-item"),w=c("el-skeleton"),x=c("el-card"),y=c("el-col"),N=c("el-tag"),D=c("el-progress"),b=c("el-text"),H=c("el-avatar"),L=c("el-aside"),P=c("el-header"),R=c("el-tooltip"),W=c("el-main"),$=c("el-container"),q=c("el-row"),B=Z("motion");return o(),r("div",null,[e(q,{gutter:24},{default:t(()=>[z((o(),v(y,{class:"mb-[18px]",lg:16,md:24,xs:24,sm:24},{default:t(()=>[e(x,{class:"bar-card",shadow:"never"},{default:t(()=>[e(w,{loading:!f.value.time.length,animated:""},{default:t(()=>[i("div",me,[pe,e(C,{modelValue:k.value,"onUpdate:modelValue":n[0]||(n[0]=a=>k.value=a),options:[{label:"7天",value:0},{label:"30天",value:1}]},null,8,["modelValue"])]),i("div",_e,[e(ue,{sent:k.value==0?f.value.sent.slice(-7):f.value.sent,recv:k.value==0?f.value.recv.slice(-7):f.value.recv,time:k.value==0?f.value.time.slice(-7):f.value.time},null,8,["sent","recv","time"])])]),template:t(()=>[e(d,{variant:"h1",class:"mb-[40px]",style:{width:"10%"}}),e(d,{variant:"rect",class:"mb-[30px]",style:{width:"100%",height:"300px"}})]),_:1},8,["loading"])]),_:1})]),_:1})),[[B]]),e(y,{lg:8,md:24,xs:24,sm:24,class:"mb-[18px]"},{default:t(()=>[e(x,{class:"w-full h-[450px]",shadow:"never"},{default:t(()=>[e(w,{loading:!s.value.plugins.length,animated:"",rows:5},{default:t(()=>[fe,i("div",ve,[e(N,{type:"primary",effect:"plain",class:"mb-[10px] cursor-pointer",size:"large",onClick:n[1]||(n[1]=a=>V(""))},{default:t(()=>[p(u(s.value.BotName)+"-Yunzai ",1)]),_:1}),(o(!0),r(g,null,h(s.value.plugins.filter(a=>a.hasGit),a=>(o(),v(N,{key:a.name,type:"primary",effect:"plain",class:"mb-[10px] cursor-pointer",size:"large",onClick:m=>V(a.name)},{default:t(()=>[p(u(a.name),1)]),_:2},1032,["onClick"]))),128))])]),_:1},8,["loading"])]),_:1})]),_:1}),(o(!0),r(g,null,h(s.value.visual,a=>z((o(),v(y,{key:a.title,class:"mb-[18px]",xl:3,md:6,sm:12,xs:12,initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:560}}},{default:t(()=>[e(x,{class:"h-[280px]",shadow:"never","body-style":{padding:"10px 0"},header:a.title},{default:t(()=>[e(w,{loading:!a.title,animated:""},{template:t(()=>[i("div",ge,[e(d)]),i("div",he,[e(d,{variant:"circle",style:{width:"120px",height:"120px"}})]),i("div",xe,[e(d),e(d)])]),default:t(()=>[i("div",ye,[e(D,{type:"circle",percentage:a.value,"stroke-width":15,color:a.color,status:a.status},null,8,["percentage","color","status"])]),(o(!0),r(g,null,h(a.info,(m,_)=>(o(),r("div",{key:_,class:"flex justify-center items-center"},u(m),1))),128))]),_:2},1032,["loading"])]),_:2},1032,["header"])]),_:2},1024)),[[B]])),128)),z((o(),v(y,{class:"mb-[18px]",xl:5,md:12,sm:12,xs:24},{default:t(()=>{var a;return[e(x,{shadow:"never",class:"h-[280px]",header:(a=s.value.fsSize)!=null&&a.length?"磁盘占用":void 0,"body-style":{padding:"10px 20px"}},{default:t(()=>{var m;return[e(w,{loading:!((m=s.value.fsSize)!=null&&m.length),animated:""},{template:t(()=>[i("div",be,[e(d)]),e(d,{class:"mb-[10px]"}),e(d)]),default:t(()=>[e(F(ee),{class:"h-[180px]",height:170},{default:t(()=>[(o(!0),r(g,null,h(s.value.fsSize,_=>(o(),r("div",{key:_.fs,class:"flex mb-[10px]"},[e(b,{tag:"b",style:{"margin-right":"10px"}},{default:t(()=>[p(u(_.mount),1)]),_:2},1024),e(D,{"stroke-width":15,percentage:_.use,color:_.color,"text-inside":""},{default:t(()=>[i("div",ke,[e(b,{tag:"b",class:"relative bottom-[2px]"},{default:t(()=>[p(u(_.used)+" / "+u(_.size),1)]),_:2},1024)])]),_:2},1032,["percentage","color"]),e(b,{tag:"b",style:{"margin-left":"10px"}},{default:t(()=>[p(u(_.use)+"%",1)]),_:2},1024)]))),128))]),_:1})]),_:1},8,["loading"])]}),_:1},8,["header"])]}),_:1})),[[B]]),z((o(),v(y,{class:"mb-[18px]",xl:4,md:6,sm:24,xs:24},{default:t(()=>[e(x,{shadow:"never",class:"h-[280px]","body-style":{padding:"10px 20px"}},{default:t(()=>[e(w,{loading:!s.value.info.length,animated:"",rows:5,class:"pt-[20px]"},{default:t(()=>[i("div",we,[(o(!0),r(g,null,h(s.value.info,a=>(o(),r("div",{key:a.key,class:"flex justify-between"},[i("div",null,[e(b,{tag:"b"},{default:t(()=>[p(u(a.key)+": ",1)]),_:2},1024)]),i("div",null,[e(b,{class:"text-right"},{default:t(()=>[p(u(a.value),1)]),_:2},1024)])]))),128))])]),_:1},8,["loading"])]),_:1})]),_:1})),[[B]]),(o(!0),r(g,null,h(j.value,a=>(o(),v(y,{key:a.uin,class:"mb-[18px]",xl:8,md:12,sm:24,xs:24},{default:t(()=>[e(x,{shadow:"never",class:"h-[170px]"},{default:t(()=>[e($,null,{default:t(()=>[e(L,{width:"80px",class:"flex-c flex-col"},{default:t(()=>[e(H,{size:80,src:a.avatar},{default:t(()=>[p(u(a.nickname.slice(0,1)),1)]),_:2},1032,["src"])]),_:2},1024),e($,null,{default:t(()=>[e(P,{height:"20px"},{default:t(()=>[e(b,{tag:"b",style:{"font-size":"20px"}},{default:t(()=>[p(u(a.nickname),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[(o(!0),r(g,null,h([{key:"使用协议",value:a.platform,icon:"ep:platform"},{key:"协议版本",value:a.version,icon:"mingcute:version-fill"},{key:"运行时间",value:a.time,icon:"mingcute:time-fill"},{key:"好友数量",value:a.friend,icon:"bxs:user"},{key:"群数量",value:a.group,icon:"typcn:group"},{key:"发送消息总数",value:a.sent,icon:"mingcute:up-fill"},{key:"接收消息总数",value:a.recv,icon:"mingcute:down-fill"}],m=>(o(),v(N,{key:m.key},{default:t(()=>[e(R,{class:"box-item",effect:"dark",content:m.key,placement:"top"},{default:t(()=>[i("div",Se,[e(F(te),{icon:m.icon},null,8,["icon"]),p(" "+u(m.value),1)])]),_:2},1032,["content"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])}}}),Ve=ce(Be,[["__scopeId","data-v-e5d7867b"]]);export{Ve as default};
