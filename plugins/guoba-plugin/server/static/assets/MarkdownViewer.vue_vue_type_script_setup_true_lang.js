import{V as getDefaultExportFromCjs,ca as commonjsGlobal,d as defineComponent,r as ref,aI as useRootSetting,w as watch,cj as onBeforeUnmount,fZ as onDeactivated,o as openBlock,e as createElementBlock,z as normalizeClass,y as unref}from"./index.js";import{o as onMountedOrActivated}from"./onMountedOrActivated.js";var method_min={exports:{}};const VditorPreview=getDefaultExportFromCjs(method_min.exports=(()=>(()=>{var e={793:(e2,t2,n2)=>{n2.d(t2,{g:()=>a2});var a2=function(){function e3(){}return e3.ZWSP="​",e3.DROP_EDITOR="application/editor",e3.MOBILE_WIDTH=520,e3.CLASS_MENU_DISABLED="vditor-menu--disabled",e3.EDIT_TOOLBARS=["emoji","headings","bold","italic","strike","link","list","ordered-list","outdent","indent","check","line","quote","code","inline-code","insert-after","insert-before","upload","record","table"],e3.CODE_THEME=["a11y-dark","agate","an-old-hope","androidstudio","arta","atom-one-dark","atom-one-dark-reasonable","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-dune","base16/atelier-estuary","base16/atelier-forest","base16/atelier-heath","base16/atelier-lakeside","base16/atelier-plateau","base16/atelier-savanna","base16/atelier-seaside","base16/atelier-sulphurpool","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/codeschool","base16/colors","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/dracula","base16/edge-dark","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/gigavolt","base16/google-dark","base16/grayscale-dark","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/hardcore","base16/harmonic16-dark","base16/heetch-dark","base16/helios","base16/hopscotch","base16/horizon-dark","base16/humanoid-dark","base16/ia-dark","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-moon","base16/sandcastle","base16/seti-ui","base16/silk-dark","base16/snazzy","base16/solar-flare","base16/solarized-dark","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/synth-midnight-terminal-dark","base16/tango","base16/tender","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/vulcan","base16/windows-10","base16/windows-95","base16/windows-high-contrast","base16/windows-nt","base16/woodland","base16/xcode-dusk","base16/zenburn","codepen-embed","dark","devibeans","far","felipec","github-dark","github-dark-dimmed","gml","gradient-dark","hybrid","ir-black","isbl-editor-dark","kimbie-dark","lioshi","monokai","monokai-sublime","night-owl","nnfx-dark","nord","obsidian","panda-syntax-dark","paraiso-dark","pojoaque","qtcreator-dark","rainbow","shades-of-purple","srcery","stackoverflow-dark","sunburst","tomorrow-night-blue","tomorrow-night-bright","tokyo-night-dark","vs2015","xt256","ant-design","a11y-light","arduino-light","ascetic","atom-one-light","base16/atelier-cave-light","base16/atelier-dune-light","base16/atelier-estuary-light","base16/atelier-forest-light","base16/atelier-heath-light","base16/atelier-lakeside-light","base16/atelier-plateau-light","base16/atelier-savanna-light","base16/atelier-seaside-light","base16/atelier-sulphurpool-light","base16/brush-trees","base16/classic-light","base16/cupcake","base16/cupertino","base16/default-light","base16/dirtysea","base16/edge-light","base16/equilibrium-gray-light","base16/equilibrium-light","base16/fruit-soda","base16/github","base16/google-light","base16/grayscale-light","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/harmonic16-light","base16/heetch-light","base16/humanoid-light","base16/horizon-light","base16/ia-light","base16/material-lighter","base16/mexico-light","base16/one-light","base16/papercolor-light","base16/ros-pine-dawn","base16/sagelight","base16/shapeshifter","base16/silk-light","base16/solar-flare-light","base16/solarized-light","base16/summerfruit-light","base16/synth-midnight-terminal-light","base16/tomorrow","base16/unikitty-light","base16/windows-10-light","base16/windows-95-light","base16/windows-high-contrast-light","brown-paper","base16/windows-nt-light","color-brewer","docco","foundation","github","googlecode","gradient-light","grayscale","idea","intellij-light","isbl-editor-light","kimbie-light","lightfair","magula","mono-blue","nnfx-light","panda-syntax-light","paraiso-light","purebasic","qtcreator-light","routeros","school-book","stackoverflow-light","tokyo-night-light","vs","xcode","default"],e3.ALIAS_CODE_LANGUAGES=["abc","plantuml","mermaid","flowchart","echarts","mindmap","graphviz","math","markmap","smiles","js","ts","html","toml","c#","bat"],e3.CDN="https://unpkg.com/vditor@".concat("3.10.7"),e3.MARKDOWN_OPTIONS={autoSpace:!1,gfmAutoLink:!0,codeBlockPreview:!0,fixTermTypo:!1,footnotes:!0,linkBase:"",linkPrefix:"",listStyle:!1,mark:!1,mathBlockPreview:!0,paragraphBeginningSpace:!1,sanitize:!0,toc:!1},e3.HLJS_OPTIONS={enable:!0,lineNumber:!1,defaultLang:"",style:"github"},e3.MATH_OPTIONS={engine:"KaTeX",inlineDigit:!1,macros:{}},e3.THEME_OPTIONS={current:"light",list:{"ant-design":"Ant Design",dark:"Dark",light:"Light",wechat:"WeChat"},path:"".concat(e3.CDN,"/dist/css/content-theme")},e3}()},474:(e2,t2,n2)=>{n2.d(t2,{J:()=>s});var a2=n2(793),r=n2(998),i=n2(781),o=n2(446),s=function(e3,t3,n3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var s2=i.SMILESRenderAdapter.getElements(e3);s2.length>0&&(0,r.G)("".concat(t3,"/dist/js/smiles-drawer/smiles-drawer.min.js?v=2.1.7"),"vditorAbcjsScript").then((function(){var e4=new SmiDrawer({},{});s2.forEach((function(t4){var a3=i.SMILESRenderAdapter.getCode(t4).trim();if("true"!==t4.getAttribute("data-processed")&&""!==a3.trim()){var r2="smiles"+(0,o.Wb)();t4.innerHTML='<svg id="'.concat(r2,'"></svg>'),e4.draw(a3,"#"+r2,"dark"===n3?"dark":void 0),t4.setAttribute("data-processed","true")}}))}))}},386:(e2,t2,n2)=>{n2.d(t2,{Q:()=>o});var a2=n2(793),r=n2(998),i=n2(781),o=function(e3,t3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var n3=i.abcRenderAdapter.getElements(e3);n3.length>0&&(0,r.G)("".concat(t3,"/dist/js/abcjs/abcjs_basic.min.js"),"vditorAbcjsScript").then((function(){n3.forEach((function(e4){e4.parentElement.classList.contains("vditor-wysiwyg__pre")||e4.parentElement.classList.contains("vditor-ir__marker--pre")||"true"!==e4.getAttribute("data-processed")&&(ABCJS.renderAbc(e4,i.abcRenderAdapter.getCode(e4).trim()),e4.style.overflowX="auto",e4.setAttribute("data-processed","true"))}))}))}},781:(e2,t2,n2)=>{n2.r(t2),n2.d(t2,{SMILESRenderAdapter:()=>r,abcRenderAdapter:()=>l,chartRenderAdapter:()=>c,flowchartRenderAdapter:()=>u,graphvizRenderAdapter:()=>d,markmapRenderAdapter:()=>o,mathRenderAdapter:()=>a2,mermaidRenderAdapter:()=>i,mindmapRenderAdapter:()=>s,plantumlRenderAdapter:()=>m});var a2={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-math")}},r={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-smiles")}},i={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-mermaid")}},o={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-markmap")}},s={getCode:function(e3){return e3.getAttribute("data-code")},getElements:function(e3){return e3.querySelectorAll(".language-mindmap")}},c={getCode:function(e3){return e3.innerText},getElements:function(e3){return e3.querySelectorAll(".language-echarts")}},l={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-abc")}},d={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-graphviz")}},u={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-flowchart")}},m={getCode:function(e3){return e3.textContent},getElements:function(e3){return e3.querySelectorAll(".language-plantuml")}}},379:(e2,t2,n2)=>{n2.d(t2,{p:()=>l});var a2=n2(793),r=n2(998),i=n2(781),o=n2(446),l=function(e3,t3,n3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var l2=i.chartRenderAdapter.getElements(e3);l2.length>0&&(0,r.G)("".concat(t3,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then((function(){l2.forEach((function(e4){return function(e3,t3,n3,a3){return new(n3||(n3=Promise))((function(r2,i2){function o2(e4){try{c2(a3.next(e4))}catch(e5){i2(e5)}}function s2(e4){try{c2(a3.throw(e4))}catch(e5){i2(e5)}}function c2(e4){var t4;e4.done?r2(e4.value):(t4=e4.value,t4 instanceof n3?t4:new n3((function(e5){e5(t4)}))).then(o2,s2)}c2((a3=a3.apply(e3,[])).next())}))}(void 0,0,void 0,(function(){var t4,a3,r2;return function(e3,t3){var n3,a3,r2,i2,o2={label:0,sent:function(){if(1&r2[0])throw r2[1];return r2[1]},trys:[],ops:[]};return i2={next:s2(0),throw:s2(1),return:s2(2)},"function"==typeof Symbol&&(i2[Symbol.iterator]=function(){return this}),i2;function s2(s3){return function(c2){return function(s4){if(n3)throw new TypeError("Generator is already executing.");for(;i2&&(i2=0,s4[0]&&(o2=0)),o2;)try{if(n3=1,a3&&(r2=2&s4[0]?a3.return:s4[0]?a3.throw||((r2=a3.return)&&r2.call(a3),0):a3.next)&&!(r2=r2.call(a3,s4[1])).done)return r2;switch(a3=0,r2&&(s4=[2&s4[0],r2.value]),s4[0]){case 0:case 1:r2=s4;break;case 4:return o2.label++,{value:s4[1],done:!1};case 5:o2.label++,a3=s4[1],s4=[0];continue;case 7:s4=o2.ops.pop(),o2.trys.pop();continue;default:if(!((r2=(r2=o2.trys).length>0&&r2[r2.length-1])||6!==s4[0]&&2!==s4[0])){o2=0;continue}if(3===s4[0]&&(!r2||s4[1]>r2[0]&&s4[1]<r2[3])){o2.label=s4[1];break}if(6===s4[0]&&o2.label<r2[1]){o2.label=r2[1],r2=s4;break}if(r2&&o2.label<r2[2]){o2.label=r2[2],o2.ops.push(s4);break}r2[2]&&o2.ops.pop(),o2.trys.pop();continue}s4=t3.call(e3,o2)}catch(e4){s4=[6,e4],a3=0}finally{n3=r2=0}if(5&s4[0])throw s4[1];return{value:s4[0]?s4[1]:void 0,done:!0}}([s3,c2])}}}(this,(function(s2){switch(s2.label){case 0:if(e4.parentElement.classList.contains("vditor-wysiwyg__pre")||e4.parentElement.classList.contains("vditor-ir__marker--pre"))return[2];if(!(t4=i.chartRenderAdapter.getCode(e4).trim()))return[2];s2.label=1;case 1:return s2.trys.push([1,3,,4]),"true"===e4.getAttribute("data-processed")?[2]:[4,(0,o.Qf)(t4)];case 2:return a3=s2.sent(),echarts.init(e4,"dark"===n3?"dark":void 0).setOption(a3),e4.setAttribute("data-processed","true"),[3,4];case 3:return r2=s2.sent(),e4.className="vditor-reset--error",e4.innerHTML="echarts render error: <br>".concat(r2),[3,4];case 4:return[2]}}))}))}))}))}},895:(e2,t2,n2)=>{n2.d(t2,{O:()=>i});var a2=n2(528),r=n2(793),i=function(e3,t3){Array.from(e3.querySelectorAll("pre > code")).filter((function(t4,n3){return!(t4.parentElement.classList.contains("vditor-wysiwyg__pre")||t4.parentElement.classList.contains("vditor-ir__marker--pre")||t4.classList.contains("language-mermaid")||t4.classList.contains("language-flowchart")||t4.classList.contains("language-echarts")||t4.classList.contains("language-mindmap")||t4.classList.contains("language-plantuml")||t4.classList.contains("language-markmap")||t4.classList.contains("language-abc")||t4.classList.contains("language-graphviz")||t4.classList.contains("language-math")||t4.classList.contains("language-smiles")||t4.style.maxHeight.indexOf("px")>-1||e3.classList.contains("vditor-preview")&&n3>5)})).forEach((function(e4){var n3,i2,o,s=e4.innerText;if(e4.classList.contains("highlight-chroma")){var c=e4.cloneNode(!0);c.querySelectorAll(".highlight-ln").forEach((function(e5){e5.remove()})),s=c.innerText}else s.endsWith("\n")&&(s=s.substr(0,s.length-1));var l='<svg><use xlink:href="#vditor-icon-copy"></use></svg>';document.getElementById("vditorIconScript")||(l='<svg viewBox="0 0 32 32"><path d="M22.545-0h-17.455c-1.6 0-2.909 1.309-2.909 2.909v20.364h2.909v-20.364h17.455v-2.909zM26.909 5.818h-16c-1.6 0-2.909 1.309-2.909 2.909v20.364c0 1.6 1.309 2.909 2.909 2.909h16c1.6 0 2.909-1.309 2.909-2.909v-20.364c0-1.6-1.309-2.909-2.909-2.909zM26.909 29.091h-16v-20.364h16v20.364z"></path></svg>');var d=document.createElement("div");d.className="vditor-copy",d.innerHTML='<span aria-label="'.concat((null===(n3=window.VditorI18n)||void 0===n3?void 0:n3.copy)||"复制","\"\nonmouseover=\"this.setAttribute('aria-label', '").concat((null===(i2=window.VditorI18n)||void 0===i2?void 0:i2.copy)||"复制","')\"\nclass=\"vditor-tooltipped vditor-tooltipped__w\"\nonclick=\"this.previousElementSibling.select();document.execCommand('copy');this.setAttribute('aria-label', '").concat((null===(o=window.VditorI18n)||void 0===o?void 0:o.copied)||"已复制","');this.previousElementSibling.blur()\">").concat(l,"</span>");var u=document.createElement("textarea");u.value=(0,a2.X)(s),d.insertAdjacentElement("afterbegin",u),t3&&t3.renderMenu&&t3.renderMenu(e4,d),e4.before(d),e4.style.maxHeight=window.outerHeight-40+"px",e4.insertAdjacentHTML("afterend",'<span style="position: absolute">'.concat(r.g.ZWSP,"</span>"))}))}},169:(e2,t2,n2)=>{n2.d(t2,{P:()=>o});var a2=n2(793),r=n2(998),i=n2(781),o=function(e3,t3){void 0===t3&&(t3=a2.g.CDN);var n3=i.flowchartRenderAdapter.getElements(e3);0!==n3.length&&(0,r.G)("".concat(t3,"/dist/js/flowchart.js/flowchart.min.js"),"vditorFlowchartScript").then((function(){n3.forEach((function(e4){if("true"!==e4.getAttribute("data-processed")){var t4=flowchart.parse(i.flowchartRenderAdapter.getCode(e4));e4.innerHTML="",t4.drawSVG(e4),e4.setAttribute("data-processed","true")}}))}))}},572:(e2,t2,n2)=>{n2.d(t2,{v:()=>o});var a2=n2(793),r=n2(998),i=n2(781),o=function(e3,t3){void 0===t3&&(t3=a2.g.CDN);var n3=i.graphvizRenderAdapter.getElements(e3);0!==n3.length&&(0,r.G)("".concat(t3,"/dist/js/graphviz/viz.js"),"vditorGraphVizScript").then((function(){n3.forEach((function(e4){var t4=i.graphvizRenderAdapter.getCode(e4);if(!e4.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e4.parentElement.classList.contains("vditor-ir__marker--pre")&&"true"!==e4.getAttribute("data-processed")&&""!==t4.trim()){try{var n4=new Blob(["importScripts('".concat(document.getElementById("vditorGraphVizScript").src.replace("viz.js","full.render.js"),"');")],{type:"application/javascript"}),a3=(window.URL||window.webkitURL).createObjectURL(n4),r2=new Worker(a3);new Viz({worker:r2}).renderSVGElement(t4).then((function(t5){e4.innerHTML=t5.outerHTML})).catch((function(t5){e4.innerHTML="graphviz render error: <br>".concat(t5),e4.className="vditor-reset--error"}))}catch(e5){console.error("graphviz error",e5)}e4.setAttribute("data-processed","true")}}))}))}},702:(e2,t2,n2)=>{n2.d(t2,{s:()=>o});var a2=n2(793),r=n2(998),i=n2(296),o=function(e3,t3,n3){void 0===t3&&(t3=document),void 0===n3&&(n3=a2.g.CDN);var o2=e3.style;a2.g.CODE_THEME.includes(o2)||(o2="github");var s=document.getElementById("vditorHljsStyle"),c="".concat(n3,"/dist/js/highlight.js/styles/").concat(o2,".min.css");s&&s.getAttribute("href")!==c&&s.remove(),(0,i.c)("".concat(n3,"/dist/js/highlight.js/styles/").concat(o2,".min.css"),"vditorHljsStyle"),!1!==e3.enable&&0!==t3.querySelectorAll("pre > code").length&&(0,r.G)("".concat(n3,"/dist/js/highlight.js/highlight.min.js?v=11.7.0"),"vditorHljsScript").then((function(){(0,r.G)("".concat(n3,"/dist/js/highlight.js/third-languages.js?v=1.0.1"),"vditorHljsThirdScript").then((function(){t3.querySelectorAll("pre > code").forEach((function(t4){if(!t4.parentElement.classList.contains("vditor-ir__marker--pre")&&!t4.parentElement.classList.contains("vditor-wysiwyg__pre")&&!(t4.classList.contains("language-mermaid")||t4.classList.contains("language-flowchart")||t4.classList.contains("language-echarts")||t4.classList.contains("language-mindmap")||t4.classList.contains("language-plantuml")||t4.classList.contains("language-smiles")||t4.classList.contains("language-abc")||t4.classList.contains("language-graphviz")||t4.classList.contains("language-math"))){""!==e3.defaultLang&&-1===t4.className.indexOf("language-")&&t4.classList.add("language-"+e3.defaultLang);var n4=e3.defaultLang||t4.className.replace("language-","");if(window.hljs.getLanguage(n4)||(n4="plaintext"),t4.innerHTML=window.hljs.highlight(t4.textContent,{language:n4,ignoreIllegals:!0}).value,t4.classList.add("hljs"),e3.lineNumber){t4.classList.add("vditor-linenumber");var a3=t4.querySelector(".vditor-linenumber__temp");a3||((a3=document.createElement("div")).className="vditor-linenumber__temp",t4.insertAdjacentElement("beforeend",a3));var r2=getComputedStyle(t4).whiteSpace,i2=!1;"pre-wrap"!==r2&&"pre-line"!==r2||(i2=!0);var o3="",s2=t4.textContent.split(/\r\n|\r|\n/g);s2.pop(),s2.map((function(e4){var t5="";i2&&(a3.textContent=e4||"\n",t5=' style="height:'.concat(a3.getBoundingClientRect().height,'px"')),o3+="<span".concat(t5,"></span>")})),a3.style.display="none",o3='<span class="vditor-linenumber__rows">'.concat(o3,"</span>"),t4.insertAdjacentHTML("beforeend",o3)}}}))}))}))}},593:(e2,t2,n2)=>{n2.d(t2,{K:()=>c});var a2=n2(793),r=n2(998),i=n2(781),o={},c=function(e3,t3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var n3=i.markmapRenderAdapter.getElements(e3);0!==n3.length&&(0,r.G)("".concat(t3,"/dist/js/markmap/markmap.min.js"),"vditorMarkerScript").then((function(){n3.forEach((function(e4){var t4=i.markmapRenderAdapter.getCode(e4);if("true"!==e4.getAttribute("data-processed")&&""!==t4.trim()){var n4=document.createElement("div");n4.className="language-markmap",e4.parentNode.appendChild(n4),function(e3,t3){var n3=window.markmap,a3=n3.Transformer,r2=n3.Markmap,i2=n3.deriveOptions,s2=(n3.globalCSS,new a3);e3.innerHTML='<svg style="width:100%"></svg>';var c2=e3.firstChild,l=r2.create(c2,null),d=function(e4,t4){var n4=e4.transform(t4),a4=Object.keys(n4.features).filter((function(e5){return!o[e5]}));a4.forEach((function(e5){o[e5]=!0}));var r3=e4.getAssets(a4),i3=r3.styles,s3=r3.scripts,c3=window.markmap;return i3&&c3.loadCSS(i3),s3&&c3.loadJS(s3),n4}(s2,t3),u=d.root,m=d.frontmatter,h=i2(null==m?void 0:m.markmap);l.setData(u,h),l.fit()}(n4,t4),"CODE"==e4.parentNode.childNodes[0].nodeName&&e4.parentNode.removeChild(e4.parentNode.childNodes[0])}}))}))}},982:(e2,t2,n2)=>{n2.d(t2,{H:()=>c});var a2=n2(793),r=n2(998),i=n2(296),o=n2(528),s=n2(781),c=function(e3,t3){void 0===e3&&(e3=document);var n3=s.mathRenderAdapter.getElements(e3);if(0!==n3.length){var c2={cdn:a2.g.CDN,math:{engine:"KaTeX",inlineDigit:!1,macros:{}}};if(t3&&t3.math&&(t3.math=Object.assign({},c2.math,t3.math)),"KaTeX"===(t3=Object.assign({},c2,t3)).math.engine)(0,i.c)("".concat(t3.cdn,"/dist/js/katex/katex.min.css?v=0.16.9"),"vditorKatexStyle"),(0,r.G)("".concat(t3.cdn,"/dist/js/katex/katex.min.js?v=0.16.9"),"vditorKatexScript").then((function(){(0,r.G)("".concat(t3.cdn,"/dist/js/katex/mhchem.min.js?v=0.16.9"),"vditorKatexChemScript").then((function(){n3.forEach((function(e4){if(!e4.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e4.parentElement.classList.contains("vditor-ir__marker--pre")&&!e4.getAttribute("data-math")){var n4=(0,o.X)(s.mathRenderAdapter.getCode(e4));e4.setAttribute("data-math",n4);try{e4.innerHTML=katex.renderToString(n4,{displayMode:"DIV"===e4.tagName,output:"html",macros:t3.math.macros})}catch(t4){e4.innerHTML=t4.message,e4.className="language-math vditor-reset--error"}e4.addEventListener("copy",(function(e5){e5.stopPropagation(),e5.preventDefault();var t4=e5.currentTarget.closest(".language-math");e5.clipboardData.setData("text/html",t4.innerHTML),e5.clipboardData.setData("text/plain",t4.getAttribute("data-math"))}))}}))}))}));else if("MathJax"===t3.math.engine){window.MathJax||(window.MathJax={loader:{paths:{mathjax:"".concat(t3.cdn,"/dist/js/mathjax")}},startup:{typeset:!1},tex:{macros:t3.math.macros}},Object.assign(window.MathJax,t3.math.mathJaxOptions)),(0,r.J)("".concat(t3.cdn,"/dist/js/mathjax/tex-svg-full.js"),"protyleMathJaxScript");var l=function(e4,t4){var n4=(0,o.X)(e4.textContent).trim(),a3=window.MathJax.getMetricsFor(e4);a3.display="DIV"===e4.tagName,window.MathJax.tex2svgPromise(n4,a3).then((function(a4){e4.innerHTML="",e4.setAttribute("data-math",n4),e4.append(a4),window.MathJax.startup.document.clear(),window.MathJax.startup.document.updateDocument();var r2=a4.querySelector('[data-mml-node="merror"]');r2&&""!==r2.textContent.trim()&&(e4.innerHTML=r2.textContent.trim(),e4.className="vditor-reset--error"),t4&&t4()}))};window.MathJax.startup.promise.then((function(){for(var e4=[],t4=function(t5){var a4=n3[t5];a4.parentElement.classList.contains("vditor-wysiwyg__pre")||a4.parentElement.classList.contains("vditor-ir__marker--pre")||a4.getAttribute("data-math")||!(0,o.X)(a4.textContent).trim()||e4.push((function(e5){t5===n3.length-1?l(a4):l(a4,e5)}))},a3=0;a3<n3.length;a3++)t4(a3);!function(e5){if(0!==e5.length){var t5=0,n4=e5[e5.length-1],a4=function(){var r2=e5[t5++];r2===n4?r2():r2(a4)};a4()}}(e4)}))}}}},431:(e2,t2,n2)=>{n2.d(t2,{Y:()=>r});var a2=n2(446),r=function(e3){e3&&e3.querySelectorAll("a").forEach((function(e4){var e5,t4,t3=e4.getAttribute("href");t3&&(t3.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)?(t4=t3,(e5=e4).insertAdjacentHTML("afterend",'<video controls="controls" src="'.concat(t4,'"></video>')),e5.remove()):t3.match(/^.+.(mp3|wav|flac)$/)?function(e5,t4){e5.insertAdjacentHTML("afterend",'<audio controls="controls" src="'.concat(t4,'"></audio>')),e5.remove()}(e4,t3):function(e5,t4){var n3=t4.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?/),r2=t4.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),i=t4.match(/\/\/v\.qq\.com\/x\/cover\/.*\/([^\/]+)\.html\??.*/),o=t4.match(/(?:www\.|\/\/)coub\.com\/view\/(\w+)/),s=t4.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/),c=t4.match(/.+dailymotion.com\/(video|hub)\/(\w+)\?/),l=t4.match(/(?:www\.|\/\/)bilibili\.com\/video\/(\w+)/),d=t4.match(/(?:www\.|\/\/)ted\.com\/talks\/(\w+)/);if(n3&&11===n3[1].length)e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//www.youtube.com/embed/'.concat(n3[1]+(n3[2]?"?start="+n3[2]:""),'"></iframe>')),e5.remove();else if(r2&&r2[1])e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//player.youku.com/embed/'.concat(r2[1],'"></iframe>')),e5.remove();else if(i&&i[1])e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="https://v.qq.com/txp/iframe/player.html?vid='.concat(i[1],'"></iframe>')),e5.remove();else if(o&&o[1])e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="//coub.com/embed/'.concat(o[1],'?muted=false&autostart=false&originalSize=true&startWithHD=true"></iframe>')),e5.remove();else if(s&&s[0])e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.facebook.com/plugins/video.php?href='.concat(encodeURIComponent(s[0]),'"></iframe>')),e5.remove();else if(c&&c[2])e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video"\n src="https://www.dailymotion.com/embed/video/'.concat(c[2],'"></iframe>')),e5.remove();else if(t4.indexOf("bilibili.com")>-1&&(t4.indexOf("bvid=")>-1||l&&l[1])){var u={bvid:(0,a2.on)("bvid",t4)||l&&l[1],page:"1",high_quality:"1",as_wide:"1",allowfullscreen:"true",autoplay:"0"};new URL(t4.startsWith("http")?t4:"https:"+t4).search.split("&").forEach((function(e6,t5){if(e6){0===t5&&(e6=e6.substr(1));var n4=e6.split("=");u[n4[0]]=n4[1]}}));var m="https://player.bilibili.com/player.html?",h=Object.keys(u);h.forEach((function(e6,t5){m+="".concat(e6,"=").concat(u[e6]),t5<h.length-1&&(m+="&")})),e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="'.concat(m,'"></iframe>')),e5.remove()}else d&&d[1]&&(e5.insertAdjacentHTML("afterend",'<iframe class="iframe__video" src="//embed.ted.com/talks/'.concat(d[1],'"></iframe>')),e5.remove())}(e4,t3))}))}},570:(e2,t2,n2)=>{n2.d(t2,{i:()=>l});var a2=n2(793),r=n2(998),i=n2(781),o=n2(446),l=function(e3,t3,n3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var l2=i.mermaidRenderAdapter.getElements(e3);0!==l2.length&&(0,r.G)("".concat(t3,"/dist/js/mermaid/mermaid.min.js"),"vditorMermaidScript").then((function(){var e4={securityLevel:"loose",altFontFamily:"sans-serif",fontFamily:"sans-serif",startOnLoad:!1,flowchart:{htmlLabels:!0,useMaxWidth:!0},sequence:{useMaxWidth:!0,diagramMarginX:8,diagramMarginY:8,boxMargin:8,showSequenceNumbers:!0},gantt:{leftPadding:75,rightPadding:20}};"dark"===n3&&(e4.theme="dark"),mermaid.initialize(e4),l2.forEach((function(e5){return function(e3,t3,n3,a3){return new(n3||(n3=Promise))((function(r2,i2){function o2(e4){try{c2(a3.next(e4))}catch(e5){i2(e5)}}function s2(e4){try{c2(a3.throw(e4))}catch(e5){i2(e5)}}function c2(e4){var t4;e4.done?r2(e4.value):(t4=e4.value,t4 instanceof n3?t4:new n3((function(e5){e5(t4)}))).then(o2,s2)}c2((a3=a3.apply(e3,[])).next())}))}(void 0,0,void 0,(function(){var t4,n4,a3,r2,s2;return function(e3,t3){var n3,a3,r2,i2,o2={label:0,sent:function(){if(1&r2[0])throw r2[1];return r2[1]},trys:[],ops:[]};return i2={next:s2(0),throw:s2(1),return:s2(2)},"function"==typeof Symbol&&(i2[Symbol.iterator]=function(){return this}),i2;function s2(s3){return function(c2){return function(s4){if(n3)throw new TypeError("Generator is already executing.");for(;i2&&(i2=0,s4[0]&&(o2=0)),o2;)try{if(n3=1,a3&&(r2=2&s4[0]?a3.return:s4[0]?a3.throw||((r2=a3.return)&&r2.call(a3),0):a3.next)&&!(r2=r2.call(a3,s4[1])).done)return r2;switch(a3=0,r2&&(s4=[2&s4[0],r2.value]),s4[0]){case 0:case 1:r2=s4;break;case 4:return o2.label++,{value:s4[1],done:!1};case 5:o2.label++,a3=s4[1],s4=[0];continue;case 7:s4=o2.ops.pop(),o2.trys.pop();continue;default:if(!((r2=(r2=o2.trys).length>0&&r2[r2.length-1])||6!==s4[0]&&2!==s4[0])){o2=0;continue}if(3===s4[0]&&(!r2||s4[1]>r2[0]&&s4[1]<r2[3])){o2.label=s4[1];break}if(6===s4[0]&&o2.label<r2[1]){o2.label=r2[1],r2=s4;break}if(r2&&o2.label<r2[2]){o2.label=r2[2],o2.ops.push(s4);break}r2[2]&&o2.ops.pop(),o2.trys.pop();continue}s4=t3.call(e3,o2)}catch(e4){s4=[6,e4],a3=0}finally{n3=r2=0}if(5&s4[0])throw s4[1];return{value:s4[0]?s4[1]:void 0,done:!0}}([s3,c2])}}}(this,(function(c2){switch(c2.label){case 0:if(t4=i.mermaidRenderAdapter.getCode(e5),"true"===e5.getAttribute("data-processed")||""===t4.trim())return[2];n4="mermaid"+(0,o.Wb)(),c2.label=1;case 1:return c2.trys.push([1,3,,4]),[4,mermaid.render(n4,e5.textContent)];case 2:return a3=c2.sent(),e5.innerHTML=a3.svg,[3,4];case 3:return r2=c2.sent(),s2=document.querySelector("#"+n4),e5.innerHTML="".concat(s2.outerHTML,'<br>\n<div style="text-align: left"><small>').concat(r2.message.replace(/\n/,"<br>"),"</small></div>"),s2.parentElement.remove(),[3,4];case 4:return e5.setAttribute("data-processed","true"),[2]}}))}))}))}))}},558:(e2,t2,n2)=>{n2.d(t2,{P:()=>o});var a2=n2(793),r=n2(998),i=n2(781),o=function(e3,t3,n3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var o2=i.mindmapRenderAdapter.getElements(e3);o2.length>0&&(0,r.G)("".concat(t3,"/dist/js/echarts/echarts.min.js?v=5.5.1"),"vditorEchartsScript").then((function(){o2.forEach((function(e4){if(!e4.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e4.parentElement.classList.contains("vditor-ir__marker--pre")){var t4=i.mindmapRenderAdapter.getCode(e4);if(t4)try{if("true"===e4.getAttribute("data-processed"))return;echarts.init(e4,"dark"===n3?"dark":void 0).setOption({series:[{data:[JSON.parse(decodeURIComponent(t4))],initialTreeDepth:-1,itemStyle:{borderWidth:0,color:"#4285f4"},label:{backgroundColor:"#f6f8fa",borderColor:"#d1d5da",borderRadius:5,borderWidth:.5,color:"#586069",lineHeight:20,offset:[-5,0],padding:[0,5],position:"insideRight"},lineStyle:{color:"#d1d5da",width:1},roam:!0,symbol:function(e5,t5){var n4;return(null===(n4=null==t5?void 0:t5.data)||void 0===n4?void 0:n4.children)?"circle":"path://"},type:"tree"}],tooltip:{trigger:"item",triggerOn:"mousemove"}}),e4.setAttribute("data-processed","true")}catch(t5){e4.className="vditor-reset--error",e4.innerHTML="mindmap render error: <br>".concat(t5)}}}))}))}},182:(e2,t2,n2)=>{n2.d(t2,{k:()=>i});var a2=n2(946),r=n2(982),i=function(e3,t3,n3){var i2="",o=[];if(Array.from(e3.children).forEach((function(e4,t4){if((0,a2.W)(e4)){if(n3){var r2=e4.id.lastIndexOf("_");e4.id=e4.id.substring(0,-1===r2?void 0:r2)+"_"+t4}o.push(e4.id),i2+=e4.outerHTML.replace("<wbr>","")}})),""===i2)return t3.innerHTML="","";var s=document.createElement("div");if(n3)n3.lute.SetToC(!0),"wysiwyg"!==n3.currentMode||n3.preview.element.contains(e3)?"ir"!==n3.currentMode||n3.preview.element.contains(e3)?s.innerHTML=n3.lute.HTML2VditorDOM("<p>[ToC]</p>"+i2):s.innerHTML=n3.lute.SpinVditorIRDOM("<p>[ToC]</p>"+i2):s.innerHTML=n3.lute.SpinVditorDOM("<p>[ToC]</p>"+i2),n3.lute.SetToC(n3.options.preview.markdown.toc);else{t3.classList.add("vditor-outline");var c=Lute.New();c.SetToC(!0),s.innerHTML=c.HTML2VditorDOM("<p>[ToC]</p>"+i2)}var l=s.firstElementChild.querySelectorAll("li > span[data-target-id]");return l.forEach((function(e4,t4){if(e4.nextElementSibling&&"UL"===e4.nextElementSibling.tagName){var n4="<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg>";document.getElementById("vditorIconScript")||(n4='<svg class="vditor-outline__action" viewBox="0 0 32 32"><path d="M3.76 6.12l12.24 12.213 12.24-12.213 3.76 3.76-16 16-16-16 3.76-3.76z"></path></svg>'),e4.innerHTML="".concat(n4,"<span>").concat(e4.innerHTML,"</span>")}else e4.innerHTML="<svg></svg><span>".concat(e4.innerHTML,"</span>");e4.setAttribute("data-target-id",o[t4])})),i2=s.firstElementChild.innerHTML,0===l.length?(t3.innerHTML="",i2):(t3.innerHTML=i2,n3&&(0,r.H)(t3,{cdn:n3.options.cdn,math:n3.options.preview.math}),t3.firstElementChild.addEventListener("click",(function(a3){for(var r2=a3.target;r2&&!r2.isEqualNode(t3);){if(r2.classList.contains("vditor-outline__action")){r2.classList.contains("vditor-outline__action--close")?(r2.classList.remove("vditor-outline__action--close"),r2.parentElement.nextElementSibling.setAttribute("style","display:block")):(r2.classList.add("vditor-outline__action--close"),r2.parentElement.nextElementSibling.setAttribute("style","display:none")),a3.preventDefault(),a3.stopPropagation();break}if(r2.getAttribute("data-target-id")){a3.preventDefault(),a3.stopPropagation();var i3=document.getElementById(r2.getAttribute("data-target-id"));if(!i3)return;if(n3)if("auto"===n3.options.height){var o2=i3.offsetTop+n3.element.offsetTop;n3.options.toolbarConfig.pin||(o2+=n3.toolbar.element.offsetHeight),window.scrollTo(window.scrollX,o2)}else n3.element.offsetTop<window.scrollY&&window.scrollTo(window.scrollX,n3.element.offsetTop),n3.preview.element.contains(e3)?e3.parentElement.scrollTop=i3.offsetTop:e3.scrollTop=i3.offsetTop;else window.scrollTo(window.scrollX,i3.offsetTop);break}r2=r2.parentElement}})),i2)}},931:(e2,t2,n2)=>{n2.d(t2,{B:()=>o});var a2=n2(793),r=n2(998),i=n2(781),o=function(e3,t3){void 0===e3&&(e3=document),void 0===t3&&(t3=a2.g.CDN);var n3=i.plantumlRenderAdapter.getElements(e3);0!==n3.length&&(0,r.G)("".concat(t3,"/dist/js/plantuml/plantuml-encoder.min.js"),"vditorPlantumlScript").then((function(){n3.forEach((function(e4){if(!e4.parentElement.classList.contains("vditor-wysiwyg__pre")&&!e4.parentElement.classList.contains("vditor-ir__marker--pre")){var t4=i.plantumlRenderAdapter.getCode(e4).trim();if(t4)try{e4.innerHTML='<object type="image/svg+xml" data="https://www.plantuml.com/plantuml/svg/~1'.concat(plantumlEncoder.encode(t4),'"/>')}catch(t5){e4.className="vditor-reset--error",e4.innerHTML="plantuml render error: <br>".concat(t5)}}}))}))}},65:(e2,t2,n2)=>{n2.d(t2,{X:()=>a2});var a2=function(e3){var t3=Lute.New();return t3.PutEmojis(e3.emojis),t3.SetEmojiSite(e3.emojiSite),t3.SetHeadingAnchor(e3.headingAnchor),t3.SetInlineMathAllowDigitAfterOpenMarker(e3.inlineMathDigit),t3.SetAutoSpace(e3.autoSpace),t3.SetToC(e3.toc),t3.SetFootnotes(e3.footnotes),t3.SetFixTermTypo(e3.fixTermTypo),t3.SetVditorCodeBlockPreview(e3.codeBlockPreview),t3.SetVditorMathBlockPreview(e3.mathBlockPreview),t3.SetSanitize(e3.sanitize),t3.SetChineseParagraphBeginningSpace(e3.paragraphBeginningSpace),t3.SetRenderListStyle(e3.listStyle),t3.SetLinkBase(e3.linkBase),t3.SetLinkPrefix(e3.linkPrefix),t3.SetMark(e3.mark),t3.SetGFMAutoLink(e3.gfmAutoLink),e3.lazyLoadImage&&t3.SetImageLazyLoading(e3.lazyLoadImage),t3}},971:(e2,t2,n2)=>{n2.d(t2,{E:()=>a2});var a2=function(e3,t3,n3){void 0===n3&&(n3="classic");var a3=e3.getBoundingClientRect();document.body.insertAdjacentHTML("beforeend",'<div class="vditor vditor-img'.concat("dark"===n3?" vditor--dark":"",'">\n    <div class="vditor-img__bar">\n      <span class="vditor-img__btn" data-deg="0">\n        <svg><use xlink:href="#vditor-icon-redo"></use></svg>\n        ').concat(window.VditorI18n.spin,"\n      </span>\n      <span class=\"vditor-img__btn\"  onclick=\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\">\n        X &nbsp;").concat(window.VditorI18n.close,'\n      </span>\n    </div>\n    <div class="vditor-img__img" onclick="this.parentElement.outerHTML = \'\';document.body.style.overflow = \'\'">\n      <img style="width: ').concat(e3.width,"px;height:").concat(e3.height,"px;transform: translate3d(").concat(a3.left,"px, ").concat(a3.top-36,'px, 0)" src="').concat(e3.getAttribute("src"),'">\n    </div>\n</div>')),document.body.style.overflow="hidden";var r=document.querySelector(".vditor-img img"),i="translate3d(".concat(Math.max(0,window.innerWidth-e3.naturalWidth)/2,"px, ").concat(Math.max(0,window.innerHeight-36-e3.naturalHeight)/2,"px, 0)");setTimeout((function(){r.setAttribute("style","transition: transform .3s ease-in-out;transform: ".concat(i)),setTimeout((function(){r.parentElement.scrollTo((r.parentElement.scrollWidth-r.parentElement.clientWidth)/2,(r.parentElement.scrollHeight-r.parentElement.clientHeight)/2)}),400)}));var o=document.querySelector(".vditor-img__btn");o.addEventListener("click",(function(){var t4=parseInt(o.getAttribute("data-deg"),10)+90;t4/90%2==1&&e3.naturalWidth>r.parentElement.clientHeight?r.style.transform="translate3d(".concat(Math.max(0,window.innerWidth-e3.naturalWidth)/2,"px, ").concat(e3.naturalWidth/2-e3.naturalHeight/2,"px, 0) rotateZ(").concat(t4,"deg)"):r.style.transform="".concat(i," rotateZ(").concat(t4,"deg)"),o.setAttribute("data-deg",t4.toString()),setTimeout((function(){r.parentElement.scrollTo((r.parentElement.scrollWidth-r.parentElement.clientWidth)/2,(r.parentElement.scrollHeight-r.parentElement.clientHeight)/2)}),400)}))}},34:(e2,t2,n2)=>{n2.d(t2,{Y:()=>i});var a2=n2(793),r=n2(296),i=function(e3,t3){void 0===t3&&(t3=a2.g.CDN),a2.g.CODE_THEME.includes(e3)||(e3="github");var n3=document.getElementById("vditorHljsStyle"),i2="".concat(t3,"/dist/js/highlight.js/styles/").concat(e3,".css");n3?n3.getAttribute("href")!==i2&&(n3.remove(),(0,r.c)(i2,"vditorHljsStyle")):(0,r.c)(i2,"vditorHljsStyle")}},652:(e2,t2,n2)=>{n2.d(t2,{Z:()=>r});var a2=n2(296),r=function(e3,t3){if(e3&&t3){var n3=document.getElementById("vditorContentTheme"),r2="".concat(t3,"/").concat(e3,".css");n3?n3.getAttribute("href")!==r2&&(n3.remove(),(0,a2.c)(r2,"vditorContentTheme")):(0,a2.c)(r2,"vditorContentTheme")}}},998:(e2,t2,n2)=>{n2.d(t2,{G:()=>r,J:()=>a2});var a2=function(e3,t3){if(document.getElementById(t3))return!1;var n3=new XMLHttpRequest;n3.open("GET",e3,!1),n3.setRequestHeader("Accept","text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"),n3.send("");var a3=document.createElement("script");a3.type="text/javascript",a3.text=n3.responseText,a3.id=t3,document.head.appendChild(a3)},r=function(e3,t3){return new Promise((function(n3,a3){if(document.getElementById(t3))return n3(!0),!1;var r2=document.createElement("script");r2.src=e3,r2.async=!0,document.head.appendChild(r2),r2.onerror=function(e4){a3(e4)},r2.onload=function(){if(document.getElementById(t3))return r2.remove(),n3(!0),!1;r2.id=t3,n3(!0)}}))}},296:(e2,t2,n2)=>{n2.d(t2,{c:()=>a2});var a2=function(e3,t3){if(!document.getElementById(t3)){var n3=document.createElement("link");n3.id=t3,n3.rel="stylesheet",n3.type="text/css",n3.href=e3,document.getElementsByTagName("head")[0].appendChild(n3)}}},528:(e2,t2,n2)=>{n2.d(t2,{X:()=>a2});var a2=function(e3){return e3.replace(/\u00a0/g," ")}},446:(e2,t2,n2)=>{n2.d(t2,{Qf:()=>i,Wb:()=>a2,on:()=>r});var a2=function(){return([1e7].toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e3){return(parseInt(e3,10)^window.crypto.getRandomValues(new Uint32Array(1))[0]&15>>parseInt(e3,10)/4).toString(16)}))},r=function(e3,t3){void 0===t3&&(t3=window.location.search);var n3=t3.substring(t3.indexOf("?")),a3=n3.indexOf("#");return new URLSearchParams(n3.substring(0,a3>=0?a3:void 0)).get(e3)},i=function(e3){return Function('"use strict";return ('.concat(e3,")"))()}},118:(e2,t2,n2)=>{n2.d(t2,{fb:()=>r,lG:()=>a2});var a2=function(e3,t3){if(!e3)return!1;3===e3.nodeType&&(e3=e3.parentElement);for(var n3=e3,a3=!1;n3&&!a3&&!n3.classList.contains("vditor-reset");)n3.nodeName===t3?a3=!0:n3=n3.parentElement;return a3&&n3},r=function(e3,t3){if(!e3)return!1;3===e3.nodeType&&(e3=e3.parentElement);for(var n3=e3,a3=!1;n3&&!a3&&!n3.classList.contains("vditor-reset");)n3.classList.contains(t3)?a3=!0:n3=n3.parentElement;return a3&&n3}},946:(e2,t2,n2)=>{n2.d(t2,{W:()=>a2});var a2=function(e3){var t3=function(e4){if(!e4)return!1;3===e4.nodeType&&(e4=e4.parentElement);for(var n3=e4,a3=!1;n3&&!a3&&!n3.classList.contains("vditor-reset");)0===n3.nodeName.indexOf("H")?a3=!0:n3=n3.parentElement;return a3&&n3}(e3);return!(!t3||2!==t3.tagName.length||"HR"===t3.tagName)&&t3}},2:(e2,t2,n2)=>{n2.d(t2,{T:()=>a2});var a2=function(){for(var e3=[],t3=0;t3<arguments.length;t3++)e3[t3]=arguments[t3];for(var n3={},r=function(e4){for(var t4 in e4)e4.hasOwnProperty(t4)&&("[object Object]"===Object.prototype.toString.call(e4[t4])?n3[t4]=a2(n3[t4],e4[t4]):n3[t4]=e4[t4])},i=0;i<e3.length;i++)r(e3[i]);return n3}},307:(e2,t2,n2)=>{n2.d(t2,{Hc:()=>a2}),n2(793);var a2=function(e3){var t3=window.getSelection();t3.removeAllRanges(),t3.addRange(e3)}}},t={};function n(a2){var r=t[a2];if(void 0!==r)return r.exports;var i=t[a2]={exports:{}};return e[a2](i,i.exports,n),i.exports}n.d=(e2,t2)=>{for(var a2 in t2)n.o(t2,a2)&&!n.o(e2,a2)&&Object.defineProperty(e2,a2,{enumerable:!0,get:t2[a2]})},n.o=(e2,t2)=>Object.prototype.hasOwnProperty.call(e2,t2),n.r=e2=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e2,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e2,"__esModule",{value:!0})};var a={};return(()=>{n.d(a,{default:()=>R});var e2=n(386),t2=n(781),r=n(379),i=n(895),o=n(169),s=n(572),c=n(702),l=function(e3){void 0===e3&&(e3=document);var t3=function(e4){var t4=document.createElement("img");t4.src=e4.getAttribute("data-src"),t4.addEventListener("load",(function(){e4.getAttribute("style")||e4.getAttribute("class")||e4.getAttribute("width")||e4.getAttribute("height")||t4.naturalHeight>t4.naturalWidth&&t4.naturalWidth/t4.naturalHeight<document.querySelector(".vditor-reset").clientWidth/(window.innerHeight-40)&&t4.naturalHeight>window.innerHeight-40&&(e4.style.height=window.innerHeight-40+"px"),e4.src=t4.src})),e4.removeAttribute("data-src")};if(!("IntersectionObserver"in window))return e3.querySelectorAll("img").forEach((function(e4){e4.getAttribute("data-src")&&t3(e4)})),!1;window.vditorImageIntersectionObserver?(window.vditorImageIntersectionObserver.disconnect(),e3.querySelectorAll("img").forEach((function(e4){window.vditorImageIntersectionObserver.observe(e4)}))):(window.vditorImageIntersectionObserver=new IntersectionObserver((function(e4){e4.forEach((function(e5){(void 0===e5.isIntersecting?0!==e5.intersectionRatio:e5.isIntersecting)&&e5.target.getAttribute("data-src")&&t3(e5.target)}))})),e3.querySelectorAll("img").forEach((function(e4){window.vditorImageIntersectionObserver.observe(e4)})))},d=n(982),u=n(431),m=n(570),h=n(474),g=n(593),p=n(558),v=n(182),f=n(931),b=n(793),w=n(652),y=n(998),k=n(118),S=n(2),E=n(65),L=n(307),x=function(e3,t3){if(void 0===t3&&(t3="zh_CN"),"undefined"!=typeof speechSynthesis&&"undefined"!=typeof SpeechSynthesisUtterance){var n2=function(){var e4,n3;return speechSynthesis.getVoices().forEach((function(a3){a3.lang===t3.replace("_","-")&&(e4=a3),a3.default&&(n3=a3)})),e4||(e4=n3),e4},a2='<svg><use xlink:href="#vditor-icon-play"></use></svg>',r2='<svg><use xlink:href="#vditor-icon-pause"></use></svg>';document.getElementById("vditorIconScript")||(a2='<svg viewBox="0 0 32 32"><path d="M3.436 0l25.128 16-25.128 16v-32z"></path></svg>',r2='<svg viewBox="0 0 32 32"><path d="M20.617 0h9.128v32h-9.128v-32zM2.255 32v-32h9.128v32h-9.128z"></path></svg>');var i2=document.querySelector(".vditor-speech");i2||((i2=document.createElement("button")).className="vditor-speech",e3.insertAdjacentElement("beforeend",i2),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=n2));var o2=n2(),s2=new SpeechSynthesisUtterance;s2.voice=o2,s2.onend=s2.onerror=function(){i2.style.display="none",speechSynthesis.cancel(),i2.classList.remove("vditor-speech--current"),i2.innerHTML=a2},e3.addEventListener(void 0!==window.ontouchstart?"touchend":"click",(function(t4){var n3=t4.target;if(n3.classList.contains("vditor-speech")||n3.parentElement.classList.contains("vditor-speech"))return i2.classList.contains("vditor-speech--current")?speechSynthesis.speaking&&(speechSynthesis.paused?(speechSynthesis.resume(),i2.innerHTML=r2):(speechSynthesis.pause(),i2.innerHTML=a2)):(s2.text=i2.getAttribute("data-text"),speechSynthesis.speak(s2),i2.classList.add("vditor-speech--current"),i2.innerHTML=r2),(0,L.Hc)(window.vditorSpeechRange),void e3.focus();if(i2.style.display="none",speechSynthesis.cancel(),i2.classList.remove("vditor-speech--current"),i2.innerHTML=a2,0!==getSelection().rangeCount){var o3=getSelection().getRangeAt(0),c2=o3.toString().trim();if(c2){window.vditorSpeechRange=o3.cloneRange();var l2=o3.getBoundingClientRect();i2.innerHTML=a2,i2.style.display="block",i2.style.top=l2.top+l2.height+document.querySelector("html").scrollTop-20+"px",void 0!==window.ontouchstart?i2.style.left=t4.changedTouches[t4.changedTouches.length-1].pageX+2+"px":i2.style.left=t4.clientX+2+"px",i2.setAttribute("data-text",c2)}}}))}},M=function(e3){var t3,n2={anchor:0,cdn:b.g.CDN,customEmoji:{},emojiPath:"".concat(b.g.CDN,"/dist/images/emoji"),hljs:b.g.HLJS_OPTIONS,icon:"ant",lang:"zh_CN",markdown:b.g.MARKDOWN_OPTIONS,math:b.g.MATH_OPTIONS,mode:"light",speech:{enable:!1},render:{media:{enable:!0}},theme:b.g.THEME_OPTIONS};return e3.cdn&&((null===(t3=e3.theme)||void 0===t3?void 0:t3.path)||(n2.theme.path="".concat(e3.cdn,"/dist/css/content-theme")),e3.emojiPath||(n2.emojiPath="".concat(e3.cdn,"/dist/images/emoji"))),(0,S.T)(n2,e3)},j=function(e3,t3){var n2=M(t3);return(0,y.G)("".concat(n2.cdn,"/dist/js/lute/lute.min.js"),"vditorLuteScript").then((function(){var a2=(0,E.X)({autoSpace:n2.markdown.autoSpace,gfmAutoLink:n2.markdown.gfmAutoLink,codeBlockPreview:n2.markdown.codeBlockPreview,emojiSite:n2.emojiPath,emojis:n2.customEmoji,fixTermTypo:n2.markdown.fixTermTypo,footnotes:n2.markdown.footnotes,headingAnchor:0!==n2.anchor,inlineMathDigit:n2.math.inlineDigit,lazyLoadImage:n2.lazyLoadImage,linkBase:n2.markdown.linkBase,linkPrefix:n2.markdown.linkPrefix,listStyle:n2.markdown.listStyle,mark:n2.markdown.mark,mathBlockPreview:n2.markdown.mathBlockPreview,paragraphBeginningSpace:n2.markdown.paragraphBeginningSpace,sanitize:n2.markdown.sanitize,toc:n2.markdown.toc});return(null==t3?void 0:t3.renderers)&&a2.SetJSRenderers({renderers:{Md2HTML:t3.renderers}}),a2.SetHeadingID(!0),a2.Md2HTML(e3)}))},_=function(t3,n2,a2){return function(e3,t3,n2,a2){return new(n2||(n2=Promise))((function(r2,i2){function o2(e4){try{c2(a2.next(e4))}catch(e5){i2(e5)}}function s2(e4){try{c2(a2.throw(e4))}catch(e5){i2(e5)}}function c2(e4){var t4;e4.done?r2(e4.value):(t4=e4.value,t4 instanceof n2?t4:new n2((function(e5){e5(t4)}))).then(o2,s2)}c2((a2=a2.apply(e3,[])).next())}))}(void 0,0,void 0,(function(){var v2,b2,E2;return function(e3,t3){var n2,a2,r2,i2,o2={label:0,sent:function(){if(1&r2[0])throw r2[1];return r2[1]},trys:[],ops:[]};return i2={next:s2(0),throw:s2(1),return:s2(2)},"function"==typeof Symbol&&(i2[Symbol.iterator]=function(){return this}),i2;function s2(s3){return function(c2){return function(s4){if(n2)throw new TypeError("Generator is already executing.");for(;i2&&(i2=0,s4[0]&&(o2=0)),o2;)try{if(n2=1,a2&&(r2=2&s4[0]?a2.return:s4[0]?a2.throw||((r2=a2.return)&&r2.call(a2),0):a2.next)&&!(r2=r2.call(a2,s4[1])).done)return r2;switch(a2=0,r2&&(s4=[2&s4[0],r2.value]),s4[0]){case 0:case 1:r2=s4;break;case 4:return o2.label++,{value:s4[1],done:!1};case 5:o2.label++,a2=s4[1],s4=[0];continue;case 7:s4=o2.ops.pop(),o2.trys.pop();continue;default:if(!((r2=(r2=o2.trys).length>0&&r2[r2.length-1])||6!==s4[0]&&2!==s4[0])){o2=0;continue}if(3===s4[0]&&(!r2||s4[1]>r2[0]&&s4[1]<r2[3])){o2.label=s4[1];break}if(6===s4[0]&&o2.label<r2[1]){o2.label=r2[1],r2=s4;break}if(r2&&o2.label<r2[2]){o2.label=r2[2],o2.ops.push(s4);break}r2[2]&&o2.ops.pop(),o2.trys.pop();continue}s4=t3.call(e3,o2)}catch(e4){s4=[6,e4],a2=0}finally{n2=r2=0}if(5&s4[0])throw s4[1];return{value:s4[0]?s4[1]:void 0,done:!0}}([s3,c2])}}}(this,(function(L2){switch(L2.label){case 0:return v2=M(a2),[4,j(n2,v2)];case 1:if(b2=L2.sent(),v2.transform&&(b2=v2.transform(b2)),t3.innerHTML=b2,t3.classList.add("vditor-reset"),v2.i18n)return[3,5];if(["en_US","fr_FR","pt_BR","ja_JP","ko_KR","ru_RU","sv_SE","zh_CN","zh_TW"].includes(v2.lang))return[3,2];throw new Error("options.lang error, see https://ld246.com/article/1549638745630#options");case 2:return E2="vditorI18nScript"+v2.lang,document.querySelectorAll('head script[id^="'.concat("vditorI18nScript",'"]')).forEach((function(e3){e3.id!==E2&&document.head.removeChild(e3)})),[4,(0,y.G)("".concat(v2.cdn,"/dist/js/i18n/").concat(v2.lang,".js"),E2)];case 3:L2.sent(),L2.label=4;case 4:return[3,6];case 5:window.VditorI18n=v2.i18n,L2.label=6;case 6:return v2.icon?[4,(0,y.G)("".concat(v2.cdn,"/dist/js/icons/").concat(v2.icon,".js"),"vditorIconScript")]:[3,8];case 7:L2.sent(),L2.label=8;case 8:return(0,w.Z)(v2.theme.current,v2.theme.path),1===v2.anchor&&t3.classList.add("vditor-reset--anchor"),(0,i.O)(t3,v2.hljs),(0,c.s)(v2.hljs,t3,v2.cdn),(0,d.H)(t3,{cdn:v2.cdn,math:v2.math}),(0,m.i)(t3,v2.cdn,v2.mode),(0,h.J)(t3,v2.cdn,v2.mode),(0,g.K)(t3,v2.cdn),(0,o.P)(t3,v2.cdn),(0,s.v)(t3,v2.cdn),(0,r.p)(t3,v2.cdn,v2.mode),(0,p.P)(t3,v2.cdn,v2.mode),(0,f.B)(t3,v2.cdn),(0,e2.Q)(t3,v2.cdn),v2.render.media.enable&&(0,u.Y)(t3),v2.speech.enable&&x(t3),0!==v2.anchor&&(A2=v2.anchor,document.querySelectorAll(".vditor-anchor").forEach((function(e3){1===A2&&e3.classList.add("vditor-anchor--left"),e3.onclick=function(){var t4=e3.getAttribute("href").substr(1),n3=document.getElementById("vditorAnchor-"+t4).offsetTop;document.querySelector("html").scrollTop=n3}})),window.onhashchange=function(){var e3=document.getElementById("vditorAnchor-"+decodeURIComponent(window.location.hash.substr(1)));e3&&(document.querySelector("html").scrollTop=e3.offsetTop)}),v2.after&&v2.after(),v2.lazyLoadImage&&l(t3),t3.addEventListener("click",(function(e3){var n3=(0,k.lG)(e3.target,"SPAN");if(n3&&(0,k.fb)(n3,"vditor-toc")){var a3=t3.querySelector("#"+n3.getAttribute("data-target-id"));a3&&window.scrollTo(window.scrollX,a3.offsetTop)}})),[2]}var A2}))}))},H=n(971),C=n(34);const R=function(){function n2(){}return n2.adapterRender=t2,n2.previewImage=H.E,n2.codeRender=i.O,n2.graphvizRender=s.v,n2.highlightRender=c.s,n2.mathRender=d.H,n2.mermaidRender=m.i,n2.SMILESRender=h.J,n2.markmapRender=g.K,n2.flowchartRender=o.P,n2.chartRender=r.p,n2.abcRender=e2.Q,n2.mindmapRender=p.P,n2.plantumlRender=f.B,n2.outlineRender=v.k,n2.mediaRender=u.Y,n2.speechRender=x,n2.lazyLoadImageRender=l,n2.md2html=j,n2.preview=_,n2.setCodeTheme=C.Y,n2.setContentTheme=w.Z,n2}()})(),a.default})())()),getTheme=(darkModeVal,themeMode="default")=>{const isDark="dark"===darkModeVal;switch(themeMode){case"default":return isDark?"dark":"classic";case"content":return isDark?"dark":"light";case"code":return isDark?"dracula":"github"}},_sfc_main=defineComponent({__name:"MarkdownViewer",props:{value:{type:String},class:{type:String}},emits:["initOk"],setup(__props,{emit:__emit}){const props=__props,emit=__emit,viewerRef=ref(null),vditorPreviewRef=ref(null),{getDarkMode:getDarkMode}=useRootSetting();function init(){return __this=this,__arguments=null,generator=function*(){const viewerEl=unref(viewerRef);vditorPreviewRef.value=yield VditorPreview.preview(viewerEl,props.value,{mode:getTheme(getDarkMode.value,"content"),theme:{current:getTheme(getDarkMode.value,"content")},hljs:{style:getTheme(getDarkMode.value,"code")}}),emit("initOk")},new Promise(((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())}));var __this,__arguments,generator}function destroy(){var _a;const vditorInstance=unref(vditorPreviewRef);if(vditorInstance){try{null==(_a=null==vditorInstance?void 0:vditorInstance.destroy)||_a.call(vditorInstance)}catch(error){}vditorPreviewRef.value=null}}return watch((()=>getDarkMode.value),(val=>{VditorPreview.setContentTheme(getTheme(val,"content")),VditorPreview.setCodeTheme(getTheme(val,"code")),init()})),watch((()=>props.value),((v,oldValue)=>{v!==oldValue&&init()})),onMountedOrActivated(init),onBeforeUnmount(destroy),onDeactivated(destroy),(_ctx,_cache)=>(openBlock(),createElementBlock("div",{ref_key:"viewerRef",ref:viewerRef,id:"markdownViewer",class:normalizeClass(_ctx.$props.class)},null,2))}});export{_sfc_main as _,getTheme as g};
