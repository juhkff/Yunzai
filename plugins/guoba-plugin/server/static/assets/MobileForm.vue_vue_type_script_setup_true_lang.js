import{d as defineComponent,bC as Form,r as ref,a as reactive,C as computed,o as openBlock,e as createElementBlock,j as createVNode,i as withCtx,y as unref,d7 as Input,M as Button,k as createTextVNode,m as toDisplayString,F as Fragment,x as createCommentVNode,a9 as useI18n}from"./index.js";import{C as CountdownInput}from"./index24.js";import{u as useLoginState,a as useFormRules,_ as _sfc_main$1,b as useFormValid,L as LoginStateEnum}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang.js";const _sfc_main=defineComponent({__name:"MobileForm",setup(__props){const FormItem=Form.Item,{t:t}=useI18n(),{handleBackLogin:handleBackLogin,getLoginState:getLoginState}=useLoginState(),{getFormRules:getFormRules}=useFormRules(),formRef=ref(),loading=ref(!1),formData=reactive({mobile:"",sms:""}),{validForm:validForm}=useFormValid(formRef),getShow=computed((()=>unref(getLoginState)===LoginStateEnum.MOBILE));function handleLogin(){return __this=this,__arguments=null,generator=function*(){const data=yield validForm();data&&console.log(data)},new Promise(((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())}));var __this,__arguments,generator}return(_ctx,_cache)=>getShow.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(_sfc_main$1,{class:"enter-x"}),createVNode(unref(Form),{class:"p-4 enter-x",model:formData,rules:unref(getFormRules),ref_key:"formRef",ref:formRef},{default:withCtx((()=>[createVNode(unref(FormItem),{name:"mobile",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(Input),{size:"large",value:formData.mobile,"onUpdate:value":_cache[0]||(_cache[0]=$event=>formData.mobile=$event),placeholder:unref(t)("sys.login.mobile"),class:"fix-auto-fill"},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{name:"sms",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(CountdownInput),{size:"large",class:"fix-auto-fill",value:formData.sms,"onUpdate:value":_cache[1]||(_cache[1]=$event=>formData.sms=$event),placeholder:unref(t)("sys.login.smsCode")},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{class:"enter-x"},{default:withCtx((()=>[createVNode(unref(Button),{type:"primary",size:"large",block:"",onClick:handleLogin,loading:loading.value},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(t)("sys.login.loginButton")),1)])),_:1},8,["loading"]),createVNode(unref(Button),{size:"large",block:"",class:"mt-4",onClick:unref(handleBackLogin)},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(t)("sys.login.backSignIn")),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])],64)):createCommentVNode("",!0)}});export{_sfc_main as _};
