import{d as defineComponent,E as useDesign,a3 as useUserStore,aB as usePermissionStore,aN as useAppStore,r as ref,an as onMounted,cj as onBeforeUnmount,o as openBlock,h as createBlock,i as withCtx,v as createBaseVNode,j as createVNode,z as normalizeClass,y as unref,aV as Transition,g6 as PermissionModeEnum,b as _export_sfc}from"./index.js";import{_ as _sfc_main$1}from"./Login.vue_vue_type_style_index_0_lang.js";import"./GuobaLoginForm.vue_vue_type_script_setup_true_lang.js";import"./common.js";import"./ForgetPasswordForm.vue_vue_type_script_setup_true_lang.js";import"./LoginFormTitle.vue_vue_type_script_setup_true_lang.js";import"./index24.js";import"./useFormItem.js";import"./RegisterForm.vue_vue_type_script_setup_true_lang.js";import"./index23.js";import"./MobileForm.vue_vue_type_script_setup_true_lang.js";import"./QrCodeForm.vue_vue_type_script_setup_true_lang.js";import"./download.js";const SessionTimeoutLogin=_export_sfc(defineComponent({__name:"SessionTimeoutLogin",setup(__props){const{prefixCls:prefixCls}=useDesign("st-login"),userStore=useUserStore(),permissionStore=usePermissionStore(),appStore=useAppStore(),userId=ref(0);return onMounted((()=>{var _a;userId.value=null==(_a=userStore.getUserInfo)?void 0:_a.userId,console.log("Mounted",userStore.getUserInfo)})),onBeforeUnmount((()=>{(userId.value&&userId.value!==userStore.getUserInfo.userId||appStore.getProjectConfig.permissionMode===PermissionModeEnum.BACK&&0===permissionStore.getLastBuildMenuTime)&&document.location.reload()})),(_ctx,_cache)=>(openBlock(),createBlock(Transition,null,{default:withCtx((()=>[createBaseVNode("div",{class:normalizeClass(unref(prefixCls))},[createVNode(_sfc_main$1,{sessionTimeout:""})],2)])),_:1}))}}),[["__scopeId","data-v-7566bb4f"]]);export{SessionTimeoutLogin as default};
